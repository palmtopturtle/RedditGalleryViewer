(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),o=a.n(s),c=a(13),i=a(45),l=a(2),u=a(3),d=a(5),m=a(4),p=a(6),f=a(41),h=a.n(f),g=a(16),_=a.n(g),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleTextChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.state={value:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.submitData;return r.a.createElement("div",{className:_.a.search},r.a.createElement("input",{className:_.a.box,type:"text",name:"value",value:this.state.value,onChange:this.handleTextChange,onKeyPress:function(a){"Enter"===a.key&&(a.preventDefault(),t(e.state.value),e.setState({value:""}))}}),r.a.createElement("button",{className:_.a["btn-add"],type:"button",onClick:function(){t(e.state.value),e.setState({value:""})}},this.props.children))}}]),t}(n.Component),b=a(9),y=a.n(b),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleSelectChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value)),a.props.updateSelect(e)},a.renderSelects=function(){var e=a.props.tagsLength;return r.a.createElement("div",{className:y.a["select-container"]},"Sort by:",r.a.createElement("select",{className:y.a.select,name:"sortBy",value:a.state.sortBy,onChange:a.handleSelectChange,disabled:!(e>0)},r.a.createElement("option",{value:"relevance"},"Relevance"),r.a.createElement("option",{value:"top"},"Top"),r.a.createElement("option",{value:"new"},"New"),r.a.createElement("option",{value:"comments"},"Comments")),"Limit:",r.a.createElement("select",{className:y.a.select,name:"limit",value:a.state.limit,onChange:a.handleSelectChange},r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:25},"25"),r.a.createElement("option",{value:50},"50")))},a.state={sortBy:"",limit:25},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addTag,a=e.setSubreddit,n=e.subreddit,s=e.warning;return r.a.createElement("form",{className:y.a["search-form"]},r.a.createElement("div",{className:y.a["input-container"]},r.a.createElement(v,{submitData:a},"Go To Subreddit"),r.a.createElement(v,{submitData:t},"Add Tag")),s?r.a.createElement("div",{className:y.a.warning},s):null,r.a.createElement("div",{className:y.a.subreddit},"Currently browsing: ",r.a.createElement("span",null,n||"Frontpage")),this.renderSelects())}}]),t}(n.Component),w=a(42),k=a.n(w),j=a(8),O=a.n(j),x=11,S=13,N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).getValidPreview=function(){var e=a.props.post.preview.images[0].resolutions.find(function(e){return e.width>=a.state.width&&e.height>=a.state.height});return e||a.props.post.preview.images[0].source},a.truncateText=function(e,t){var a=e.indexOf(" ",t);return-1===a?e:e.substring(0,a)+" ..."},a.renderBody=function(){var e=a.props.post;return r.a.createElement("div",{className:O.a.body},e.preview?r.a.createElement("a",{className:O.a["post-image"],href:e.url,target:"_blank noopener noreferrer"},r.a.createElement("img",{src:a.getValidPreview().url,alt:e.title})):r.a.createElement("div",{className:O.a.selftext},k()(e.selftext_html)))},a.renderTitle=function(){var e=a.props.post;return r.a.createElement("a",{className:O.a.title,href:"https://reddit.com".concat(e.permalink),target:"_blank noopener noreferrer"},r.a.createElement("h3",null,a.truncateText(e.title,100)))},a.renderMeta=function(){var e=a.props.post,t=new Date(1e3*e.created_utc);return r.a.createElement("div",{className:O.a["post-meta"]},r.a.createElement("a",{href:"https://reddit.com/r/".concat(e.subreddit),target:"_blank noopener noreferrer"},"r/",e.subreddit)," ","- posted by ",e.author," on ",t.toLocaleDateString()," -"," ",e.score," points -"," ",r.a.createElement("a",{href:"https://reddit.com".concat(e.permalink),target:"_blank noopener noreferrer"},e.num_comments," comments"))},a.state={span:Math.floor(Math.random()*(S-x+1))+x,width:0,height:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.gridItem.getBoundingClientRect();this.setState({width:e.width,height:e.height})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.gridItem=t},className:O.a.post,style:{gridRowEnd:"span ".concat(this.state.span)}},this.renderBody(),r.a.createElement("div",{className:O.a["post-info"]},r.a.createElement("div",{className:O.a.padding},this.renderTitle(),this.renderMeta())))}}]),t}(n.Component),C=a(43),T=a.n(C),D=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.posts;return r.a.createElement("div",{className:T.a.gallery},e.map(function(t){return r.a.createElement(N,{key:e.indexOf(t),post:t})}))}}]),t}(n.Component),B=a(22),L=a.n(B),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderTags=function(){var e=a.props,t=e.tags,n=e.deleteTag;return t.map(function(e){return r.a.createElement("div",{className:L.a.tag,key:e},e," ",r.a.createElement("i",{className:"material-icons",onClick:function(){return n(e)}},"remove_circle"))})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.tags;return r.a.createElement("div",{className:L.a["tags-container"]},e?this.renderTags():null)}}]),t}(n.Component),q=a(23),M=a.n(q),A=a(11),F=a(44),I=a.n(F),R=function(){return r.a.createElement(A.b,{items:[{text:"Lo",key:1},{text:"ad",key:2},{text:"in",key:3},{text:"g...",key:4}],keys:function(e){return e.key},trail:30,from:{transform:"rotateY(0deg)",opacity:0},enter:{transform:"rotateY(360deg)",opacity:1}},function(e){return function(t){return r.a.createElement("div",{style:t,className:I.a.square},r.a.createElement("span",null,e.text))}})},Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderError=function(){var e=a.props.error;return"Network Error"===e.message||404===e.response.status?r.a.createElement("h2",null,"Error: 404 not found! Did you type the subreddit name correctly?"):r.a.createElement("h2",null,"An error occured while fetching data! Is reddit.com down?")},a.renderFooter=function(){var e=a.props,t=e.isLoading,n=e.error,s=e.reachedEnd,o=e.fetchPosts;return t?r.a.createElement(R,null):s?r.a.createElement("h2",null,"Reached end!"):n?a.renderError():r.a.createElement("button",{className:M.a.btn,type:"button",name:"loadMore",onClick:o},"Load More")},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:M.a.footer},this.renderFooter())}}]),t}(n.Component),G=a(12),U=a.n(G),V=function(){return r.a.createElement("div",{className:U.a.header},r.a.createElement("div",{className:U.a.logo},r.a.createElement("div",{className:U.a.start},r.a.createElement(A.a,{items:[{letter:"R",key:1},{letter:"e",key:2},{letter:"d",key:3},{letter:"d",key:4},{letter:"i",key:5},{letter:"t",key:6}],keys:function(e){return e.key},config:A.c.stiff,from:{transform:"translateX(-50px)",opacity:0},to:{transform:"translateX(0)",opacity:1}},function(e){return function(t){return r.a.createElement("span",{style:t},e.letter)}})),r.a.createElement("div",{className:U.a.empty}),r.a.createElement(A.a,{items:[{text:"Gall ery",key:1},{text:"",key:2},{text:"",key:3},{text:"Vie wer",key:4}],keys:function(e){return e.key},delay:1100,config:A.c.slow,from:{transform:"rotateY(0deg)",opacity:0},to:{transform:"rotateY(360deg)",opacity:1}},function(e){return function(t){return r.a.createElement("div",{style:t,className:U.a.square},e.text?r.a.createElement("span",null,e.text):null)}}),r.a.createElement("div",{className:U.a.empty})))},X=(a(117),"https://www.reddit.com/"),J={posts:[],after:"",reachedEnd:!1,error:null,warning:""},W=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).addTag=function(t){t?e.state.tags.includes(t)?e.setState({warning:"Duplicate tag detected!"}):(e.resetDefaultState(),e.setState({tags:Object(i.a)(e.state.tags).concat([t])},e.fetchPosts)):e.setState({warning:"Please enter some text first!"})},e.deleteTag=function(t){e.resetDefaultState(),e.setState({tags:e.state.tags.filter(function(e){return e!==t})},e.fetchPosts)},e.setSubreddit=function(t){e.resetDefaultState(),e.setState({subreddit:t?"r/"+t+"/":""},e.fetchPosts)},e.updateSelect=function(t){e.resetDefaultState(),e.setState(Object(c.a)({},t.target.name,t.target.value),e.fetchPosts)},e.fetchPosts=function(){e.setState({isLoading:!0}),h.a.get(e.outputUrl()).then(function(t){var a=t.data.data.children.map(function(e){return e.data}),n=t.data.data.after;e.setState({posts:e.state.posts.concat(a),after:n,isLoading:!1,reachedEnd:!n})}).catch(function(t){return e.setState({error:t,isLoading:!1})})},e.outputUrl=function(){var t=X+e.state.subreddit;return e.state.tags.length>0?"".concat(t,"search.json?q=").concat(e.outputTags(),"&limit=").concat(e.state.limit,"&sort=").concat(e.state.sortBy,"&restrict_sr=on&raw_json=1&after=").concat(e.state.after):"".concat(t,"hot.json?limit=").concat(e.state.limit,"&restrict_sr=on&raw_json=1&after=").concat(e.state.after)},e.outputTags=function(){return e.state.tags.join("+")},e.state={subreddit:"",sortBy:"relevance",limit:25,after:"",tags:[],posts:[],reachedEnd:!1,isLoading:!1,error:null,warning:""},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"resetDefaultState",value:function(){this.setState(J)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement(E,{updateSelect:this.updateSelect,tagsLength:this.state.tags.length,addTag:this.addTag,setSubreddit:this.setSubreddit,subreddit:this.state.subreddit,warning:this.state.warning}),r.a.createElement(P,{tags:this.state.tags,deleteTag:this.deleteTag}),r.a.createElement(D,{posts:this.state.posts}),r.a.createElement(Y,{isLoading:this.state.isLoading,error:this.state.error,reachedEnd:this.state.reachedEnd,fetchPosts:this.fetchPosts}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},12:function(e,t,a){e.exports={header:"logo_header__2GhC-",logo:"logo_logo__2oDYV",start:"logo_start__26rB1",square:"logo_square__3A1gT",empty:"logo_empty__UiaUI",flip:"logo_flip__2kFdW"}},16:function(e,t,a){e.exports={search:"searchinput_search__27h_G",box:"searchinput_box__1V77T","btn-add":"searchinput_btn-add__38TXZ","btn-frontpage":"searchinput_btn-frontpage__37hRF"}},22:function(e,t,a){e.exports={"tags-container":"tagsdisplay_tags-container__BD71S",tag:"tagsdisplay_tag__27vhs"}},23:function(e,t,a){e.exports={footer:"footer_footer__23_xh",btn:"footer_btn__3811J"}},43:function(e,t,a){e.exports={gallery:"gallery_gallery__BcCCB"}},44:function(e,t,a){e.exports={square:"loader_square__12v44"}},46:function(e,t,a){e.exports=a(119)},8:function(e,t,a){e.exports={post:"post_post__3DIaG",fade:"post_fade__gjdLl",body:"post_body__3ta-A","post-image":"post_post-image__12cAz",selftext:"post_selftext__1UX7Q","post-info":"post_post-info__3soBC",padding:"post_padding__1fiIs",title:"post_title__1ilu_","post-meta":"post_post-meta__s1FO2"}},80:function(e,t){},9:function(e,t,a){e.exports={"search-form":"searchform_search-form__1G27x",warning:"searchform_warning__Y1ZTr","input-container":"searchform_input-container__37Qab",subreddit:"searchform_subreddit__3CZ6q","select-container":"searchform_select-container__2HREv",select:"searchform_select__2FyYn"}}},[[46,2,1]]]);
//# sourceMappingURL=main.79d43980.chunk.js.map